<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Broken Ranks Champion Timer</title>
    <link rel="stylesheet" href="style.css"> <!-- Link to the CSS file -->
</head>
<body>
    <div class="container">
        <div class="header-container" id="area0">
            <a target="_blank">
                <img src="brokenRanks.png" alt="Monster Image">
            </a>
            <span id="monster-name"><b>Nazwa</b></span>
            <span id="monster-name"><b>Lokalizacja</b></span>
            <span id="monster-name"><b>Respawn</b></span>
            <span id="monster-name"><b>Znika po</b></span>
            <span></span>
            <span id="monster-name"><b>Pozostały czas (minimum)</b></span>
            <span id="monster-name"><b>Timer skończył się o</b> </span>
            <span></span>
            <span></span>
        </div>
        <br>
        <div class="spacer"></div>
        <!-- Jaskinia południowa -->
        <h2>Jaskinia Południowa</h2>
        <div class="monster" id="monster4">
            <a href="https://wikibr.pl/index.php/Kosior" target="_blank">
                <img src="monsterImg/70px-Kosior.png" alt="Kosior">
            </a>
            <span id="monster-name">Kosior Lv.16</span>
            <span id="monster-localization">Jaskinia Południowa</span>
            <span class="timer-class" id="monster-respawn">25min - 30min</span>
            <span id="monster-dissapear">8min</span>
            <button id="start-monster4" onclick="startTimer('monster4', 1500)">Start Timer</button>
            <span id="timer-monster4"></span>
            <span id="info-monster4"></span>
            <button onclick="clearInfo('monster4')">Clear Info</button>
            <button id="reset-monster4" onclick="resetTimer('monster4', 1500)">Reset Timer</button>
        </div>
        <div class="monster" id="monster5">
            <a href="https://wikibr.pl/index.php/Kruczy" target="_blank">
                <img src="monsterImg/70px-Kruczy.png" alt="Kruczy">
            </a>
            <span id="monster-name">Kruczy Lv.16</span>
            <span id="monster-localization">Jaskinia Południowa</span>
            <span class="timer-class" id="monster-respawn">25min - 30min</span>
            <span id="monster-dissapear">8min</span>
            <button id="start-monster5" onclick="startTimer('monster5', 1500)">Start Timer</button>
            <span id="timer-monster5"></span>
            <span id="info-monster5"></span>
            <button onclick="clearInfo('monster5')">Clear Info</button>
            <button id="reset-monster5" onclick="resetTimer('monster5', 1500)">Reset Timer</button>
        </div>
        <!-- Jaskinia południowa -->
        <br>
        <!-- Wymarła osada -->
        <h2>Wymarła Osada</h2>
        <div class="monster" id="monster1">
            <a href="https://wikibr.pl/index.php/Treven" target="_blank">
                <img src="monsterImg/70px-Treven.png" alt="Treven">
            </a>
            <span id="monster-name">Treven Lv.26</span>
            <span id="monster-localization">Wymarła osada</span>
            <span class="timer-class" id="monster-respawn">1h - 1h20min</span>
            <span id="monster-dissapear">10-15min</span>
            <button id="start-monster1" onclick="startTimer('monster1', 3600)">Start Timer</button>
            <span id="timer-monster1"></span>
            <span id="info-monster1"></span>
            <button onclick="clearInfo('monster1')">Clear Info</button>
            <button id="reset-monster1" onclick="resetTimer('monster1', 3600)">Reset Timer</button>
        </div>
        <div class="monster" id="monster2">
            <a href="https://wikibr.pl/index.php/Cybulski" target="_blank">
                <img src="monsterImg/70px-Cybulski.png" alt="Cybulski">
            </a>
            <span id="monster-name">Cybulski Lv.28</span>
            <span id="monster-localization">Wymarła osada</span>
            <span class="timer-class" id="monster-respawn">35min - 50min</span>
            <span id="monster-dissapear">8-10min</span>
            <button id="start-monster2" onclick="startTimer('monster2', 2100)">Start Timer</button>
            <span id="timer-monster2"></span>
            <span id="info-monster2"></span>
            <button onclick="clearInfo('monster2')">Clear Info</button>
            <button id="reset-monster2" onclick="resetTimer('monster2', 2100)">Reset Timer</button>
        </div>
        <div class="monster" id="monster3">
            <a href="https://wikibr.pl/index.php/Nielichy" target="_blank">
                <img src="monsterImg/70px-Nielichy.png" alt="Nielichy">
            </a>
            <span id="monster-name">Nielichy Lv.28</span>
            <span id="monster-localization">Wymarła osada</span>
            <span class="timer-class" id="monster-respawn">20min - 28min</span>
            <span id="monster-dissapear">7-8min</span>
            <button id="start-monster3" onclick="startTimer('monster3', 1200)">Start Timer</button>
            <span id="timer-monster3"></span>
            <span id="info-monster3"></span>
            <button onclick="clearInfo('monster3')">Clear Info</button>
            <button id="reset-monster3" onclick="resetTimer('monster3', 1200)">Reset Timer</button>
        </div>
        <!-- Wymarła osada -->
        <br>
        <!-- Podzamcze -->
         <h2>Podzamcze</h2>
        <div class="monster" id="monster6">
            <a href="https://wikibr.pl/index.php/Ogruch" target="_blank">
                <img src="monsterImg/70px-Ogruch.png" alt="Ogruch">
            </a>
            <span id="monster-name">Ogruch Lv.26</span>
            <span id="monster-localization">Podzamcze</span>
            <span class="timer-class" id="monster-respawn">20min - 30min</span>
            <span id="monster-dissapear">6-7min</span>
            <button id="start-monster6" onclick="startTimer('monster6', 1200)">Start Timer</button>
            <span id="timer-monster6"></span>
            <span id="info-monster6"></span>
            <button onclick="clearInfo('monster6')">Clear Info</button>
            <button id="reset-monster6" onclick="resetTimer('monster6', 1200)">Reset Timer</button>
        </div>
        <div class="monster" id="monster7">
            <a href="https://wikibr.pl/index.php/Popiel" target="_blank">
                <img src="monsterImg/70px-Popiel.png" alt="Popiel">
            </a>
            <span id="monster-name">Popiel Lv.28</span>
            <span id="monster-localization">Podzamcze Zamek Gastelhof</span>
            <span class="timer-class" id="monster-respawn">30min - 40min</span>
            <span id="monster-dissapear">8-10min</span>
            <button id="start-monster7" onclick="startTimer('monster7', 1800)">Start Timer</button>
            <span id="timer-monster7"></span>
            <span id="info-monster7"></span>
            <button onclick="clearInfo('monster7')">Clear Info</button>
            <button id="reset-monster7" onclick="resetTimer('monster7', 1800)">Reset Timer</button>
        </div>
        <div class="monster" id="monster8">
            <a href="https://wikibr.pl/index.php/Harlair" target="_blank">
                <img src="monsterImg/70px-Harlair.png" alt="Harlair">
            </a>
            <span id="monster-name">Harlair Lv.28</span>
            <span id="monster-localization">Podzamcze, Jaskinie pod Granicą</span>
            <span class="timer-class" id="monster-respawn">1h - 1h15min</span>
            <span id="monster-dissapear">12-15min</span>
            <button id="start-monster8" onclick="startTimer('monster8', 3600)">Start Timer</button>
            <span id="timer-monster8"></span>
            <span id="info-monster8"></span>
            <button onclick="clearInfo('monster8')">Clear Info</button>
            <button id="reset-monster8" onclick="resetTimer('monster8', 3600)">Reset Timer</button>
        </div>
        <div class="monster" id="monster9">
            <a href="https://wikibr.pl/index.php/Orthal" target="_blank">
                <img src="monsterImg/70px-Orthal.png" alt="Orthal">
            </a>
            <span id="monster-name">Orthal Lv.28</span>
            <span id="monster-localization">Podzamcze, Jaskinie pod Granicą</span>
            <span class="timer-class" id="monster-respawn">40min - 1h</span>
            <span id="monster-dissapear">8-10min</span>
            <button id="start-monster9" onclick="startTimer('monster9', 2400)">Start Timer</button>
            <span id="timer-monster9"></span>
            <span id="info-monster9"></span>
            <button onclick="clearInfo('monster9')">Clear Info</button>
            <button id="reset-monster9" onclick="resetTimer('monster9', 2400)">Reset Timer</button>
        </div>
        <div class="monster" id="monster10">
            <a href="https://wikibr.pl/index.php/Wilhelm_Tell" target="_blank">
                <img src="monsterImg/70px-Wilhelm_tell.png" alt="Wilhelm Tell">
            </a>
            <span id="monster-name">Wilhelm Tell Lv.32</span>
            <span id="monster-localization">Podzamcze</span>
            <span class="timer-class" id="monster-respawn">45min - 1h5min</span>
            <span id="monster-dissapear">8-10min</span>
            <button id="start-monster10" onclick="startTimer('monster10', 2700)">Start Timer</button>
            <span id="timer-monster10"></span>
            <span id="info-monster10"></span>
            <button onclick="clearInfo('monster10')">Clear Info</button>
            <button id="reset-monster10" onclick="resetTimer('monster10', 2700)">Reset Timer</button>
        </div>
        <!-- Podzamcze -->
        <br>
        <!-- Jaskinie -->
         <h2>Jaskinie</h2>
        <div class="monster" id="monster11">
            <a href="https://wikibr.pl/index.php/Acerodon" target="_blank">
                <img src="monsterImg/70px-Acerodon.png" alt="Acerodon">
            </a>
            <span id="monster-name">Acerodon Lv.28</span>
            <span id="monster-localization">Jaskinie pod Mokradłami, Jaskinie pod Wieżami, Zapomniany Korytarz, Jaszczurzy Cmentarz</span>
            <span class="timer-class" id="monster-respawn">1h - 1h10min</span>
            <span id="monster-dissapear">10-15min</span>
            <button id="start-monster11" onclick="startTimer('monster11',3600)">Start Timer</button>
            <span id="timer-monster11"></span>
            <span id="info-monster11"></span>
            <button onclick="clearInfo('monster11')">Clear Info</button>
            <button id="reset-monster11" onclick="resetTimer('monster11',3600)">Reset Timer</button>
        </div>
        <div class="monster" id="monster12">
            <a href="https://wikibr.pl/index.php/Król_Szczurów" target="_blank">
                <img src="monsterImg/70px-Król_szczurów.png" alt="Król szczurów">
            </a>
            <span id="monster-name">Król Szczórów Lv.28</span>
            <span id="monster-localization">Jaskinie pod Mokradłami, Jaskinie pod Wieżami</span>
            <span class="timer-class" id="monster-respawn">1h30 - 2h</span>
            <span id="monster-dissapear">15-20min</span>
            <button id="start-monster12" onclick="startTimer('monster12',5400)">Start Timer</button>
            <span id="timer-monster12"></span>
            <span id="info-monster12"></span>
            <button onclick="clearInfo('monster12')">Clear Info</button>
            <button id="reset-monster12" onclick="resetTimer('monster12',5400)">Reset Timer</button>
        </div>
        <!-- Jaskinie -->
        <br>
        <!-- Wilcza jama -->
         <h2>Wilcza Jama</h2>
        <div class="monster" id="monster13">
            <a href="https://wikibr.pl/index.php/Wilczurr" target="_blank">
                <img src="monsterImg/70px-Wilczur.png" alt="Wilczur">
            </a>
            <span id="monster-name">Wilczur Lv.35</span>
            <span id="monster-localization">Wilcza jama</span>
            <span class="timer-class" id="monster-respawn">1h- 1h10min</span>
            <span id="monster-dissapear">8-10min</span>
            <button id="start-monster13" onclick="startTimer('monster13',3600)">Start Timer</button>
            <span id="timer-monster13"></span>
            <span id="info-monster13"></span>
            <button onclick="clearInfo('monster13')">Clear Info</button>
            <button id="reset-monster13" onclick="resetTimer('monster13',3600)">Reset Timer</button>
        </div>
        <!-- Wilcza jama -->
        <br>
        <!--Wybrzeże-->
        <h2>Wybrzeże</h2>
        <div class="monster" id="monster14">
            <a href="https://wikibr.pl/index.php/Przybysz" target="_blank">
                <img src="monsterImg/70px-Przybysz.png" alt="Przybysz">
            </a>
            <span id="monster-name">Przybysz Lv.36</span>
            <span id="monster-localization">Wybrzeże</span>
            <span class="timer-class" id="monster-respawn">1h30min - 2h</span>
            <span id="monster-dissapear">12-14min</span>
            <button id="start-monster14" onclick="startTimer('monster14',5400)">Start Timer</button>
            <span id="timer-monster14"></span>
            <span id="info-monster14"></span>
            <button onclick="clearInfo('monster14')">Clear Info</button>
            <button id="reset-monster14" onclick="resetTimer('monster14',5400)">Reset Timer</button>
        </div>
        <div class="monster" id="monster15">
            <a href="https://wikibr.pl/index.php/Zębacz" target="_blank">
                <img src="monsterImg/70px-Zębacz.png" alt="Zębacz">
            </a>
            <span id="monster-name">Zębacz Lv.34</span>
            <span id="monster-localization">Wybrzeże, Statek, Jaskinie pod Wieżami, Jaskinie pod Mokradłami</span>
            <span class="timer-class" id="monster-respawn">40min - 48min</span>
            <span id="monster-dissapear">10-11min</span>
            <button id="start-monster15" onclick="startTimer('monster15',2400)">Start Timer</button>
            <span id="timer-monster15"></span>
            <span id="info-monster15"></span>
            <button onclick="clearInfo('monster15')">Clear Info</button>
            <button id="reset-monster15" onclick="resetTimer('monster15',2400)">Reset Timer</button>
        </div>
        <div class="monster" id="monster16">
            <a href="https://wikibr.pl/index.php/Brachyura" target="_blank">
                <img src="monsterImg/70px-Brachyura.png" alt="Brachyura">
            </a>
            <span id="monster-name">Brachyura Lv.36</span>
            <span id="monster-localization">Wybrzeże</span>
            <span class="timer-class" id="monster-respawn">30min - 45min</span>
            <span id="monster-dissapear">10-12min</span>
            <button id="start-monster16" onclick="startTimer('monster16',1800)">Start Timer</button>
            <span id="timer-monster16"></span>
            <span id="info-monster16"></span>
            <button onclick="clearInfo('monster16')">Clear Info</button>
            <button id="reset-monster16" onclick="resetTimer('monster16',1800)">Reset Timer</button>
        </div>
        <div class="monster" id="monster17">
            <a href="https://wikibr.pl/index.php/Tilsai_Wędrowny" target="_blank">
                <img src="monsterImg/70px-Tilsai_wędrowny.png" alt="Tilsai Wędrowny">
            </a>
            <span id="monster-name">Tilsai Wędrowny</span>
            <span id="monster-localization">Wybrzeże, Statek, Jaskinie pod Wieżami, Jaskinie pod Mokradłami</span>
            <span class="timer-class" id="monster-respawn">1h - 1h10min</span>
            <span id="monster-dissapear">15-17min</span>
            <button id="start-monster17" onclick="startTimer('monster17',3600)">Start Timer</button>
            <span id="timer-monster17"></span>
            <span id="info-monster17"></span>
            <button onclick="clearInfo('monster17')">Clear Info</button>
            <button id="reset-monster17" onclick="resetTimer('monster17',3600)">Reset Timer</button>
        </div>
        <!--Wybrzeże-->
        <br>
        <!--Las Koldów-->
        <h2>Las Koldów</h2>
        <div class="monster" id="monster18">
            <a href="https://wikibr.pl/index.php/Psychopata" target="_blank">
                <img src="monsterImg/70px-Psychopata.png" alt="Psychopata">
            </a>
            <span id="monster-name">Psychopata Lv.48</span>
            <span id="monster-localization">Las Koldów</span>
            <span class="timer-class" id="monster-respawn">50min - 1h5min</span>
            <span id="monster-dissapear">10-12min</span>
            <button id="start-monster18" onclick="startTimer('monster18',3000)">Start Timer</button>
            <span id="timer-monster18"></span>
            <span id="info-monster18"></span>
            <button onclick="clearInfo('monster18')">Clear Info</button>
            <button id="reset-monster18" onclick="resetTimer('monster18',3000)">Reset Timer</button>
        </div>
        <div class="monster" id="monster19">
            <a href="https://wikibr.pl/index.php/Zaklinacz_Kruków" target="_blank">
                <img src="monsterImg/70px-Zaklinacz_kruków.png" alt="Zaklinacz Kruków">
            </a>
            <span id="monster-name">Zaklinacz Kruków Lv.50</span>
            <span id="monster-localization">Las Koldów</span>
            <span class="timer-class" id="monster-respawn">25min - 33min</span>
            <span id="monster-dissapear">4min25sec - 6min45sec</span>
            <button id="start-monster19" onclick="startTimer('monster19',1500)">Start Timer</button>
            <span id="timer-monster19"></span>
            <span id="info-monster19"></span>
            <button onclick="clearInfo('monster19')">Clear Info</button>
            <button id="reset-monster19" onclick="resetTimer('monster19',1500)">Reset Timer</button>
        </div>
        <div class="monster" id="monster20">
            <a href="https://wikibr.pl/index.php/Karol_Kold" target="_blank">
                <img src="monsterImg/70px-Karol_kold.png" alt="Karol Kold">
            </a>
            <span id="monster-name">Karol Kold Lv.48</span>
            <span id="monster-localization">Las Koldów, Niedźwiedzia Jaskinia</span>
            <span class="timer-class" id="monster-respawn">45min - 57min</span>
            <span id="monster-dissapear">10-12min</span>
            <button id="start-monster20" onclick="startTimer('monster20',2700)">Start Timer</button>
            <span id="timer-monster20"></span>
            <span id="info-monster20"></span>
            <button onclick="clearInfo('monster20')">Clear Info</button>
            <button id="reset-monster20" onclick="resetTimer('monster20',2700)">Reset Timer</button>
        </div>
        <div class="monster" id="monster21">
            <a href="https://wikibr.pl/index.php/Wściekły_Grizzly" target="_blank">
                <img src="monsterImg/70px-Wściekły_grizzly.png" alt="70px-Wściekły Grizzly">
            </a>
            <span id="monster-name">Wściekły Grizzly Lv.55</span>
            <span id="monster-localization">Las Koldów, Niedźwiedzia Jaskinia</span>
            <span class="timer-class" id="monster-respawn">35min - 55min</span>
            <span id="monster-dissapear">8-10min</span>
            <button id="start-monster21" onclick="startTimer('monster21', 2100)">StartTimer</button>
            <span id="timer-monster21"></span>
            <span id="info-monster21"></span>
            <button onclick="clearInfo('monster21')">ClearInfo</button>
            <button id="reset-monster21" onclick="resetTimer('monster21', 2100)">ResetTimer</button>
        </div>
        <div class="monster" id="monster22">
            <a href="https://wikibr.pl/index.php/Krwiopijca" target="_blank">
                <img src="monsterImg/70px-Krwiopijca.png" alt="70px-Krwiopijca">
            </a>
            <span id="monster-name">Krwiopijca Lv.58</span>
            <span id="monster-localization">Niedźwiedzia Jaskinia</span>
            <span class="timer-class" id="monster-respawn">1h30min - 1h40min</span>
            <span id="monster-dissapear">12-15min</span>
            <button id="start-monster22" onclick="startTimer('monster22', 5400)">StartTimer</button>
            <span id="timer-monster22"></span>
            <span id="info-monster22"></span>
            <button onclick="clearInfo('monster22')">ClearInfo</button>
            <button id="reset-monster22" onclick="resetTimer('monster22', 5400)">ResetTimer</button>
        </div>
        <!--Las Koldów-->
        <br>
        <!--Las Orków-->
        <h2>Las Orków</h2>
        <div class="monster" id="monster23">
            <a href="https://wikibr.pl/index.php/Telek" target="_blank">
                <img src="monsterImg/70px-Telek.png" alt="Telek">
            </a>
            <span id="monster-name">Telek Lv.49</span>
            <span id="monster-localization">Las Orków</span>
            <span class="timer-class" id="monster-respawn">1h - 1h6min</span>
            <span id="monster-dissapear">4-5min</span>
            <button id="start-monster23" onclick="startTimer('monster23', 3600)">Start Timer</button>
            <span id="timer-monster23"></span>
            <span id="info-monster23"></span>
            <button onclick="clearInfo('monster23')">Clear Info</button>
            <button id="reset-monster23" onclick="resetTimer('monster23', 3600)">Reset Timer</button>
        </div>
        <div class="monster" id="monster24">
            <a href="https://wikibr.pl/index.php/Rizurul" target="_blank">
                <img src="monsterImg/70px-Rizurul.png" alt="Rizurul">
            </a>
            <span id="monster-name">Rizurul Lv.65</span>
            <span id="monster-localization">Las Orków</span>
            <span class="timer-class" id="monster-respawn">40min - 45min</span>
            <span id="monster-dissapear">8-10min</span>
            <button id="start-monster24" onclick="startTimer('monster24', 2400)">Start Timer</button>
            <span id="timer-monster24"></span>
            <span id="info-monster24"></span>
            <button onclick="clearInfo('monster24')">Clear Info</button>
            <button id="reset-monster24" onclick="resetTimer('monster24', 2400)">Reset Timer</button>
        </div>
        <div class="monster" id="monster25">
            <a href="https://wikibr.pl/index.php/Zaimm" target="_blank">
                <img src="monsterImg/70px-Zaimm.png" alt="Zaimm">
            </a>
            <span id="monster-name">Zaimm</span>
            <span id="monster-localization">Las Orków, Namiot Wodza Orków</span>
            <span class="timer-class" id="monster-respawn">20min - 24min</span>
            <span id="monster-dissapear">10-13min</span>
            <button id="start-monster25" onclick="startTimer('monster25', 1200)">Start Timer</button>
            <span id="timer-monster25"></span>
            <span id="info-monster25"></span>
            <button onclick="clearInfo('monster25')">Clear Info</button>
            <button id="reset-monster25" onclick="resetTimer('monster25', 1200)">Reset Timer</button>
        </div>
        <!--Las Orków-->

    </div>
</body>
<script>
    //Animacja zmniejszania header-container przy scrollowaniu w dol
    document.addEventListener('DOMContentLoaded', function () {
                const header = document.querySelector('.header-container');

                window.addEventListener('scroll', function () {
                    if (window.scrollY > 50) { //Zmniejsz po 50px
                        header.classList.add('shrink');
                    } else { //Usun opcje shrink
                        header.classList.remove('shrink');
                    }
                });
            });

    const socket = new WebSocket('wss://brokenranksbackend.onrender.com');

    let intervals = {};

    // Odbieranie wiadomości z serwera
    socket.onmessage = (event) => {
        try {
            const data = JSON.parse(event.data); // Parsowanie wiadomości JSON

            switch (data.type) {
                case 'sync':
                    syncTimers(data.timers, data.timerInfo, data.disabledButtons);
                    break;
                case 'start':
                    syncStartTimer(data.monsterId, data.duration);
                    break;
                case 'reset':
                    syncResetTimer(data.monsterId);
                    break;
                case 'clear':
                    syncClearInfo(data.monsterId);
                    break;
                default:
                    console.error('Nieznany typ wiadomości:', data.type);
            }
        } catch (error) {
            console.error('Błąd podczas parsowania wiadomości:', error);
        }
    };

    function sendToServer(type, monsterId, duration = null, info = null) {
        const message = JSON.stringify({ type, monsterId, duration, info });
        socket.send(message);
    }

    function startTimer(monsterId, duration) {
        sendToServer('start', monsterId, duration);
    }

    function resetTimer(monsterId) {
        sendToServer('reset', monsterId);
    }

    function clearInfo(monsterId) {
        sendToServer('clear', monsterId);
    }

    function updateInfo(monsterId, info) {
        sendToServer('updateInfo', monsterId, null, info);
    }

    function syncTimers(timers, timerInfo, disabledButtons) {
        for (const monsterId in timers) {
            syncStartTimer(monsterId, timers[monsterId]);
        }
        for (const monsterId in timerInfo) {
            document.getElementById('info-' + monsterId).textContent = timerInfo[monsterId];
        }
        for (const monsterId in disabledButtons) {
            document.getElementById('start-' + monsterId).disabled = disabledButtons[monsterId];
        }
    }

    function syncStartTimer(monsterId, duration) {
        const timerDisplay = document.getElementById('timer-' + monsterId);
        const timerInfo = document.getElementById('info-' + monsterId);
        const startButton = document.getElementById('start-' + monsterId);
        const initialMessage = timerDisplay.textContent;

        startButton.disabled = true;

        let timer = duration, minutes, seconds;
        intervals[monsterId] = setInterval(function () {
            minutes = parseInt(timer / 60, 10);
            seconds = parseInt(timer % 60, 10);

            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            timerDisplay.textContent = minutes + ":" + seconds;

            if (timer < 300) { 
                timerDisplay.classList.add('timer-warning');
            } else {
                timerDisplay.classList.remove('timer-warning');
            }

            if (--timer < 0) {
                clearInterval(intervals[monsterId]);
                var completionTime = new Date().toLocaleTimeString();
                timerDisplay.textContent = initialMessage;
                timerInfo.textContent = "Completed at " + completionTime;
                startButton.disabled = false;
                timerDisplay.classList.remove('timer-warning');
                updateInfo(monsterId, "Completed at " + completionTime);
            }
        }, 1000);
    }

    function syncResetTimer(monsterId) {
        clearInterval(intervals[monsterId]);
        const timerDisplay = document.getElementById('timer-' + monsterId);
        const timerInfo = document.getElementById('info-' + monsterId);
        const startButton = document.getElementById('start-' + monsterId);
        timerDisplay.textContent = "";
        timerInfo.textContent = "";
        startButton.disabled = false;
        timerDisplay.classList.remove('timer-warning');
    }

    function syncClearInfo(monsterId) {
        const timerInfo = document.getElementById('info-' + monsterId);
        timerInfo.textContent = "";
    }
</script>
</html>
